<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Menu Snap & Scroll</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html, body {
      height: 100%;
      font-family: sans-serif;
      overflow: hidden;
      background: #000;
      color: white;
    }
        p   {
        background-color: hsla(3, 3%, 16%, 0.745);
        width: 50%;
        height: 125px;
        z-index: 3;
        border-radius: 0px 0px 25px 25px;
        margin-bottom: 15px;
        text-wrap:inherit;
        padding: 5px;
    }
        h1,h2,h3,h4,h5{
        background-color: hsla(3, 3%, 16%, 0.745);
        width: 50%;
        height: 125px;
        z-index: 3;
        border-radius: 25px 25px 0px 0px;
        padding: 10px;
    }

    .container {
      display: flex;
      flex-direction: column;
      height: 100%;
    }

    .categories {
      display: flex;
      overflow-x: auto;
      background: #111;
      padding: 0.5rem;
      scroll-snap-type: x mandatory;
      width: 100%;
    }

    .category {
      flex: 0 0 auto;
      padding: 0.5rem 1rem;
      background: #444;
      color: white;
      margin-right: 0.5rem;
      border-radius: 8px;
      cursor: pointer;
      white-space: nowrap;
      scroll-snap-align: start;
      width: 25%;
      height: 45px;
    }

    .category.active {
      background: #ff4a4a;
    }

    .preview-pane {
      flex: 1;
      overflow-x: auto;
      display: flex;
      scroll-snap-type: x mandatory;
    }
    button{
        width: 100%;
        height: 45px;
        background-color: rgb(15, 117, 212);
    }

    .category-column {
      flex: 0 0 100%;
      height: 100%;
      overflow-y: auto;
      scroll-snap-type: y mandatory;
      position: relative;
    }
    #cartTotal {
        color:#4caf50;
        -webkit-text-fill-color: #4caf50;
    }

    .item-slide {
      scroll-snap-align: start;
      position: relative;
      height: 100vh;
      overflow: hidden;
    }

    .videoId {
      position: absolute;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: 1;

    }

    .item-card {
      position: relative;
      z-index: 2;
      padding: 1rem;
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
    }

    .item-card::after {
      content: "";
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 40%;
      background: linear-gradient(to top, rgba(0,0,0,0.6), transparent);
      z-index: -1;
    }

    .item-card img {
      width: 15%;
      height: auto;
      border-radius: 15%;
      margin-bottom: 1rem;
      height: 125px;
    }

    @media (max-width: 768px) {
      .item-card img {
        width: 50px;
      }
    }

    #receipt {
      background: #111;
      color: white;
      padding: 1rem;
      text-align: center;
    }

    #receipt button {
      margin-top: 0.5rem;
      padding: 0.5rem 1rem;
      background: #4caf50;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    #cartItems {
      font-size: 0.85rem;
      margin-top: 0.5rem;
    }

    .remove {
      overflow:hidden;
      scroll-snap-type: mandatory;
      scroll-margin: 0px;
    }
  </style>
</head>
<body class="remove">
  <div class="container remove">
    <div class="categories" id="categories"></div>
    <div class="preview-pane" id="previewPane"><div class="box "></div></div>
    <div id="receipt">
      ðŸ§¾ Receipt: <span id="cartTotal">$0.00</span>
      <div id="cartItems"></div>
    </div>
     <button ondblclick="alert('Payment Processed!')">Pay</button>
    </div>
 <div class="box">
  <script>
    const Data = {
      Services: [
        {
          title: "Exhaust Hood Cleaning",
          desc: "Pressure washing is using a strong spray of water to clean dirt and grime off things like walls, cars, or sidewalks.",
          img: "https://images.openai.com/thumbnails/d550c15636ac3165a86581a9c62694cb.webp",
          price: 450,
          video: "Hkm7EW2d7rg"
        },
        {
          title: "Exhaust Hood Cleaning",
          desc: "Pressure washing is using a strong spray of water to clean dirt and grime off things like walls, cars, or sidewalks.",
          img: "https://images.openai.com/thumbnails/d550c15636ac3165a86581a9c62694cb.webp",
          price: 500,
          video: "hUHubFokfpg"
        }
      ],
      Meals: [
        {
          title: "Grilled Chicken",
          desc: "Juicy grilled chicken with herbs.",
          img: "https://via.placeholder.com/100",
          price: 12.99,
          video: "dQw4w9WgXcQ"
        }
      ],
      Desserts: [
        {
          title: "Chocolate Cake",
          desc: "Rich dark chocolate with fudge.",
          img: "https://via.placeholder.com/100",
          price: 6.75,
          video: "C0DPdy98e4c"
        }
      ]
    };

    function createYouTubeEmbed(videoId) {
      return `
        <iframe class="videoId"
          src="https://www.youtube.com/embed/${videoId}?autoplay=1&mute=1&controls=0&loop=1&playlist=${videoId}&modestbranding=1&showinfo=0&rel=0"
          frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope;"
          referrerpolicy="strict-origin-when-cross-origin"
          allowfullscreen>
        </iframe>`;
    }

    function renderCategories() {
      const categoriesDiv = document.getElementById('categories');
      const previewPane = document.getElementById('previewPane');

      Object.keys(Data).forEach((cat, i) => {
        const catDiv = document.createElement('div');
        catDiv.className = 'category' + (i === 0 ? ' active' : '');
        catDiv.textContent = cat;
        catDiv.onclick = () => {
          document.querySelectorAll('.category').forEach(el => el.classList.remove('active'));
          catDiv.classList.add('active');
          previewPane.scrollTo({
            left: i * window.innerWidth,
            behavior: 'smooth'
          });
        };
        categoriesDiv.appendChild(catDiv);

        const categoryColumn = document.createElement('div');
        categoryColumn.className = 'category-column';

        Data[cat].forEach(item => {
          const slide = document.createElement('div');
          slide.className = 'item-slide';
          slide.innerHTML = `
            ${createYouTubeEmbed(item.video)}
            <div class="item-card">
              <img src="${item.img}" alt="${item.title}" />
              <h3>${item.title}</h3>
              <p>${item.desc}</p>
              <strong>Price: $${item.price.toFixed(2)}</strong>
            </div>`;
          categoryColumn.appendChild(slide);
        });

        previewPane.appendChild(categoryColumn);
      });
    }

    window.onload = () => {
      renderCategories();
    };
  </script></div>
  
  <script>
      let cartTotal = 0;
    let cartItems = [];

    function addToCart(title, price) {
      cartTotal += price;
      cartItems.push({ title, price });
      document.getElementById('cartTotal').textContent = `$${cartTotal.toFixed(2)}`;
      document.getElementById('cartItems').innerHTML = cartItems.map(item => `<div>${item.title} - $${item.price.toFixed(2)}</div>`).join('');
    }

    function attachTapHandlers() {
      document.querySelectorAll('.item-slide').forEach(slide => {
        let tapped = false;

        const handleClick = () => {
          const title = slide.querySelector('h3')?.textContent || 'Item';
          const priceText = slide.querySelector('strong')?.textContent || '';
          const match = priceText.match(/\$([\d.]+)/);
          if (match) {
            const price = parseFloat(match[1]);
            addToCart(title, price);
          }
        };

        slide.addEventListener('dblclick', handleClick);

        // Double tap for mobile
        slide.addEventListener('touchend', (e) => {
          if (tapped) {
            handleClick();
            tapped = false;
          } else {
            tapped = true;
            setTimeout(() => { tapped = false; }, 300);
          }
        });
      });
    }

    window.onload = () => {
      renderCategories();
      setTimeout(attachTapHandlers, 100); // Delay to ensure DOM is built
    };

    function payWithPayPal() {
      const paypalUsername = 'yourusername'; // Replace with your PayPal.me username
      const url = `https://www.paypal.me/${paypalUsername}/${cartTotal.toFixed(2)}`;
      window.open(url, '_blank');
    }
</script>
</body>
</html>
